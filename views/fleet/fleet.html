<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Kalaxia</title>
        <link rel="stylesheet" type="text/css" href="/static/css/main.css" />
        <link rel="stylesheet" type="text/css" href="/static/css/base.css" />
        <link rel="stylesheet" type="text/css" href="/static/css/fleet.css" />
    </head>
    <body>
        <div id="single-fleet-view-container">
            <div id="planet-data">
                <header>
                    <h1></h1>
                </header>
                <section>

                </section>
            </div>
            <div id="fleet-view">
                <section>
                    <h3 data-translate="true">fleet.view.single.title</h3>
                </section>
                <section id="fleet-delete-section" class="button-container">
                    <div id="fleet-delete" class="button-big" data-translate="true">fleet.view.single.delete</div>
                    <div id="fleet-delete-error" class="error"> </div>
                </section>
                <section id="fleet-journey-send-section" class="button-container">
                    <div id="fleet-journey-send" data-translate="true" class="button-big">fleet.view.single.journey_send</div>
                </section>
                <section id="fleet-detail">
                    <table id = "fleet-table"></table>
                </section>
            </div>

            <div id="ships-fleet">
                <section>
                    <h3 data-translate="true">fleet.view.single.ships_in_fleet</h3>
                </section>
                <section class="ships-list">
                    <div class="ships-table"></div>
                </section>
            </div>

            <div id="ships-hangar">
                <section>
                    <h3 data-translate="true">fleet.view.single.ships_in_hangar</h3>
                </section>
                <section class="ships-list">
                    <div class="ships-table"></div>
                </section>
            </div>
        <div>

        <script type="text/javascript" src="/config/config.js"></script>
        <script type="module" src="/static/js/main.js"></script>
        <script type="module">
            import App from '/static/js/core/app.js';
            import {  initFleetViewSingle, initBaseForFleet} from '/static/js/fleet.js';

            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get("id");

            if (id == null || id == undefined) {
                throw "I must have an id"
            }
            window.setCurrentFleet(id);

            const initFleet = () => {

                initBaseForFleet();
                initFleetViewSingle();
            }

            //window.addEventListener('load', initBaseForFleet);
            App.init().then(() => { initFleet() });

        </script>
  </body>
</html>
